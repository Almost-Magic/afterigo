import{j as e}from"./index-dqMUZmZc.js";import{r as o}from"./vendor-C8arOna2.js";import{C as n}from"./Card-CLwMQva7.js";import{B as c}from"./Button-CG6sJqfC.js";import{I as d}from"./Input-DDq9VQhH.js";import{M as u}from"./Modal-Dd_2IZvS.js";import{P as h,M as g,H as w,h as N,i as p,I as j,j as f}from"./ui-DBuEaADI.js";const z=()=>{const[r,m]=o.useState([]),[t,a]=o.useState(!1),[l,x]=o.useState(""),i=r.filter(s=>s.title.toLowerCase().includes(l.toLowerCase())||s.recipient.toLowerCase().includes(l.toLowerCase()));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between",children:[e.jsx("div",{className:"flex-1 max-w-md",children:e.jsx(d,{placeholder:"Search messages...",value:l,onChange:s=>x(s.target.value)})}),e.jsxs(c,{onClick:()=>a(!0),children:[e.jsx(h,{className:"w-4 h-4 mr-2"}),"Compose Message"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs(n,{className:"text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-sage",children:r.length}),e.jsx("p",{className:"text-sm text-warmGray-500",children:"Total Messages"})]}),e.jsxs(n,{className:"text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-sage",children:new Set(r.map(s=>s.recipient)).size}),e.jsx("p",{className:"text-sm text-warmGray-500",children:"Recipients"})]}),e.jsxs(n,{className:"text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-sage",children:r.filter(s=>s.voiceNote).length}),e.jsx("p",{className:"text-sm text-warmGray-500",children:"Voice Notes"})]})]}),e.jsx("div",{className:"space-y-4",children:i.length===0?e.jsxs(n,{className:"text-center py-12",children:[e.jsx(g,{className:"w-12 h-12 mx-auto text-warmGray-300 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-warmGray-900 dark:text-warmGray-100 mb-2",children:"No messages yet"}),e.jsx("p",{className:"text-warmGray-500 mb-4",children:"Write your first message to someone you love"}),e.jsxs(c,{onClick:()=>a(!0),children:[e.jsx(h,{className:"w-4 h-4 mr-2"}),"Compose Message"]})]}):i.map(s=>e.jsx(n,{hover:!0,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-sage/10 flex items-center justify-center",children:e.jsx(w,{className:"w-6 h-6 text-sage"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-warmGray-900 dark:text-warmGray-100 mb-1",children:s.title}),e.jsxs("p",{className:"text-sm text-warmGray-500 mb-2",children:["To: ",s.recipient]}),e.jsx("p",{className:"text-warmGray-600 dark:text-warmGray-400 line-clamp-2",children:s.content}),e.jsxs("div",{className:"flex items-center gap-4 mt-3 text-xs text-warmGray-400",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(N,{className:"w-3 h-3"}),new Date(s.createdAt).toLocaleDateString()]}),s.voiceNote&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(p,{className:"w-3 h-3"}),"Voice note"]}),s.photos&&s.photos.length>0&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(j,{className:"w-3 h-3"}),s.photos.length," photo(s)"]})]})]}),e.jsx(c,{variant:"ghost",size:"sm",children:e.jsx(f,{className:"w-4 h-4"})})]})},s.id))}),e.jsx(u,{isOpen:t,onClose:()=>a(!1),title:"Compose Message",size:"lg",children:e.jsx(y,{onSubmit:s=>{m([...r,{...s,id:crypto.randomUUID(),createdAt:new Date}]),a(!1)},onCancel:()=>a(!1)})})]})},y=({onSubmit:r,onCancel:m})=>{const[t,a]=o.useState({title:"",content:"",recipient:"",scheduled:!1,voiceNote:void 0,photos:void 0}),[l,x]=o.useState(!1),i=t.content.split(/\s+/).filter(s=>s.length>0).length;return e.jsxs("div",{className:"space-y-4",children:[e.jsx(d,{label:"To",value:t.recipient,onChange:s=>a({...t,recipient:s.target.value}),placeholder:"Recipient name",required:!0}),e.jsx(d,{label:"Subject",value:t.title,onChange:s=>a({...t,title:s.target.value}),placeholder:"Message subject",required:!0}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-warmGray-700 dark:text-warmGray-300 mb-1",children:"Message"}),e.jsx("textarea",{value:t.content,onChange:s=>a({...t,content:s.target.value}),rows:8,className:"w-full px-4 py-3 rounded-lg border border-warmGray-200 dark:border-warmGray-600 bg-white dark:bg-warmGray-800 text-warmGray-900 dark:text-warmGray-100 focus:ring-2 focus:ring-sage focus:outline-none resize-none",placeholder:"Write your message...",required:!0}),e.jsxs("p",{className:"text-sm text-warmGray-500 mt-1 text-right",children:[i," words"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(c,{variant:"secondary",type:"button",size:"sm",onClick:()=>x(!l),className:l?"bg-red-100 text-red-600":"",children:[e.jsx(p,{className:"w-4 h-4 mr-2"}),l?"Stop Recording":"Record Voice"]}),e.jsxs(c,{variant:"secondary",type:"button",size:"sm",children:[e.jsx(j,{className:"w-4 h-4 mr-2"}),"Add Photo"]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(c,{variant:"secondary",type:"button",onClick:m,children:"Cancel"}),e.jsx(c,{type:"button",onClick:()=>r(t),disabled:!t.title||!t.content||!t.recipient,children:"Save Message"})]})]})};export{z as default};
